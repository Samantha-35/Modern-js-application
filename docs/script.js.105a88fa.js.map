{"version":3,"sources":["src/helpers/fetchDeleteCharacter.js","src/helpers/fetchGetCharacters.js","src/helpers/fetchUpdateCharacter.js","src/helpers/setUpdatedCharacter.js","src/script.js/cloneGenerator.js","src/script.js/setModalValues.js","src/script.js/index.js"],"names":["base_url","fetchDeleteCharacter","characterId","fetch","method","Swal","fire","console","log","fetchGetCharacters","res","json","characters","filteredCharacters","slice","fetchUpdateCharacter","character","characterID","headers","body","JSON","stringify","setUpdatedCharacter","inputNameModal","inputShortDescriptionModal","inputLongDescriptionModal","name","value","shortDescription","description","updatedCharacter","cloneGenerator","template","index","heroImage","image","clone","cloneNode","content","querySelector","src","innerHTML","button","setAttribute","setModalValues","document","getElementById","target","init","forEach","hero","heroId","id","addEventListener","deleteButton","modalSaveButton","inputsModal","appendChild"],"mappings":"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","file":"script.js.105a88fa.js","sourceRoot":"..","sourcesContent":["const base_url = 'https://character-database.becode.xyz/characters/';\n\nexport const fetchDeleteCharacter = async (characterId) => {\n\ttry {\n\t\tawait fetch(`${base_url}${characterId}`, {\n\t\t\tmethod: 'DELETE',\n\t\t});\n\t\tSwal.fire(`Deleted`, 'The character was deleted', 'success');\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\tSwal.fire('Oh no!', 'there was an error, please try later', 'error');\n\t}\n};\n","const base_url = 'https://character-database.becode.xyz/characters';\n\nexport const fetchGetCharacters = async () => {\n\ttry {\n\t\tconst res = await fetch(base_url);\n\t\tconst characters = await res.json();\n\n\t\tconst filteredCharacters = characters.slice(0, 4);\n\t\tconsole.log(filteredCharacters);\n\n\t\treturn characters;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n","const base_url = 'https://character-database.becode.xyz/characters/';\n\nexport const fetchUpdateCharacter = async (character, characterID) => {\n\ttry {\n\t\tawait fetch(`${base_url}${characterID}`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(character),\n\t\t});\n\t\tSwal.fire('Nice!', 'Character updated', 'success');\n\t} catch (error) {\n\t\tSwal.fire(\n\t\t\t'Oh no!!',\n\t\t\t'Something went wrong, please try again later',\n\t\t\t'error'\n\t\t);\n\t\tconsole.log(error);\n\t}\n};\n","export const setUpdatedCharacter = (\n\tcharacter,\n\t{ inputNameModal, inputShortDescriptionModal, inputLongDescriptionModal }\n) => {\n\tconst name = inputNameModal.value;\n\tconst shortDescription = inputShortDescriptionModal.value;\n\tconst description = inputLongDescriptionModal.value;\n\n\tconst updatedCharacter = {\n\t\t...character,\n\t\tname,\n\t\tshortDescription,\n\t\tdescription,\n\t};\n\n\treturn updatedCharacter;\n};\n","export const cloneGenerator = (\n\ttemplate,\n\t{ image: heroImage, name, shortDescription, description },\n\tindex\n) => {\n\tconst clone = template.cloneNode(true).content;\n\tconst image = clone.querySelector('img');\n\n\timage.src = `data:image/*;base64,${heroImage}`;\n\n\tconst h4 = clone.querySelector('h4');\n\th4.innerHTML = name;\n\n\tconst h5 = clone.querySelector('h5');\n\th5.innerHTML = shortDescription;\n\n\tconst pEl = clone.querySelector('p');\n\tpEl.innerHTML = description;\n\n\tconst button = clone.querySelector('button');\n\tbutton.setAttribute('id', `button-${index}`);\n\n\treturn { clone, button };\n};\n","export const setModalValues = (name, shortDescription, description) => {\n\tlet inputNameModal = document.getElementById('name-modal');\n\tinputNameModal.value = name;\n\n\tlet inputShortDescriptionModal = document.getElementById(\n\t\t'short-description-modal'\n\t);\n\n\tinputShortDescriptionModal.value = shortDescription;\n\n\tlet inputLongDescriptionModal = document.getElementById(\n\t\t'long-description-modal'\n\t);\n\tinputLongDescriptionModal.value = description;\n\n\treturn {\n\t\tinputNameModal,\n\t\tinputShortDescriptionModal,\n\t\tinputLongDescriptionModal,\n\t};\n};\n","// import 'regenerator-runtime/runtime';\nimport { fetchDeleteCharacter } from '../helpers/fetchDeleteCharacter.js';\nimport { fetchGetCharacters } from '../helpers/fetchGetCharacters.js';\nimport { fetchUpdateCharacter } from '../helpers/fetchUpdateCharacter.js';\nimport { setUpdatedCharacter } from '../helpers/setUpdatedCharacter.js';\nimport { cloneGenerator } from './cloneGenerator.js';\nimport { setModalValues } from './setModalValues.js';\n\nconst target = document.getElementById('target');\nconst template = document.querySelector('template');\n\nconst init = async () => {\n\ttry {\n\t\tconst characters = await fetchGetCharacters();\n\n\t\tcharacters.forEach((hero, index) => {\n\t\t\tconst { clone, button } = cloneGenerator(template, hero, index);\n\n\t\t\tconst heroId = hero.id;\n\n\t\t\t//button to open the modal\n\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\tconst { name, shortDescription, description } = hero;\n\t\t\t\tconst deleteButton = document.getElementById('delete-button');\n\t\t\t\tconst modalSaveButton = document.getElementById('button-modal');\n\n\t\t\t\t//prettier-ignore\n\t\t\t\tconst inputsModal = setModalValues(name,shortDescription,description);\n\n\t\t\t\t//Listener inside the modal for save button\n\t\t\t\tmodalSaveButton.addEventListener('click', () => {\n\t\t\t\t\tconst updatedCharacter = setUpdatedCharacter(hero, inputsModal);\n\n\t\t\t\t\tfetchUpdateCharacter(updatedCharacter, heroId);\n\t\t\t\t});\n\n\t\t\t\tdeleteButton.addEventListener('click', () => {\n\t\t\t\t\tfetchDeleteCharacter(heroId);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\ttarget.appendChild(clone);\n\t\t});\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\ninit();\n"]}